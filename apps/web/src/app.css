@import url("https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Libre+Baskerville:wght@400;700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap");

:root {
  --font-ui: "Plus Jakarta Sans", "Hiragino Kaku Gothic ProN", sans-serif;
  --font-display: "Cormorant Garamond", "Hiragino Mincho ProN", serif;
  --font-body: "Libre Baskerville", "Hiragino Mincho ProN", serif;
  --bg-canvas: #f0fdff;
  --bg-surface: #ffffffcc;
  --bg-surface-strong: #ffffff;
  --line: #8de2f2;
  --ink-900: #083344;
  --ink-700: #155e75;
  --ink-500: #0e7490;
  --primary: #0f766e;
  --primary-hover: #115e59;
  --radius-lg: 20px;
  --radius-md: 14px;
  --shadow-lg: 0 24px 56px -28px rgb(8 51 68 / 45%);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-ui);
  color: var(--ink-900);
  background: radial-gradient(circle at 8% 8%, #c7f9ff 0%, transparent 44%),
    radial-gradient(circle at 82% 0%, #99f6e4 0%, transparent 36%),
    linear-gradient(168deg, #effcff 0%, #ecfeff 54%, #f8fafc 100%);
}

#root {
  min-height: 100vh;
}

.app-shell {
  width: min(960px, 100%);
  margin: 0 auto;
  padding: 28px 16px 56px;
  display: grid;
  gap: 16px;
}

.app-shell.is-table-route {
  width: min(1400px, 100%);
  gap: 18px;
}

.surface {
  border: 1px solid var(--line);
  border-radius: var(--radius-lg);
  background: linear-gradient(
    180deg,
    var(--bg-surface),
    var(--bg-surface-strong)
  );
  box-shadow: var(--shadow-lg);
}

.app-header {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  padding: 18px 20px;
}

.app-header.is-table-route {
  padding: 14px 18px;
}

.eyebrow {
  margin: 0;
  font-size: 0.72rem;
  font-weight: 700;
  color: var(--ink-500);
  letter-spacing: 0.12em;
}

h1 {
  margin: 4px 0 8px;
  line-height: 1.1;
  font-size: clamp(1.28rem, 3.6vw, 2rem);
}

.header-copy {
  margin: 0;
  color: var(--ink-700);
}

.header-actions {
  display: flex;
  align-items: start;
  gap: 8px;
}

.header-actions.is-table-route {
  flex-wrap: wrap;
}

.state-panel {
  padding: 24px 20px;
}

.lobby-header {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

h2 {
  margin-top: 0;
}

p {
  line-height: 1.6;
  color: var(--ink-700);
}

code {
  font-family: ui-monospace, "SF Mono", "Monaco", monospace;
  font-size: 0.88em;
  color: #0f172a;
  background: #dff5ff;
  border-radius: 999px;
  padding: 2px 8px;
}

.row-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 12px;
}

button {
  font: inherit;
  border: none;
  cursor: pointer;
  transition: background-color 180ms ease, color 180ms ease, border-color 180ms
    ease;
}

.primary-button {
  background: var(--primary);
  color: #ffffff;
  border-radius: var(--radius-md);
  padding: 10px 16px;
  font-weight: 600;
}

.primary-button:hover {
  background: var(--primary-hover);
}

.ghost-button {
  background: #ffffff;
  color: var(--ink-900);
  border: 1px solid #a5f3fc;
  border-radius: var(--radius-md);
  padding: 10px 16px;
  font-weight: 600;
}

.ghost-button:hover {
  background: #ecfeff;
  border-color: #67e8f9;
}

.status-chip {
  display: inline-flex;
  border-radius: 999px;
  padding: 4px 10px;
  background: #cffafe;
  border: 1px solid #67e8f9;
  color: var(--ink-900);
  font-weight: 600;
}

.timestamp {
  margin: 4px 0 16px;
  font-size: 0.86rem;
}

.table-grid {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.table-card {
  border: 1px solid #a5f3fc;
  border-radius: var(--radius-md);
  background: #ffffff;
  padding: 16px;
}

.table-card-header {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  align-items: start;
}

.table-card-header h3 {
  margin: 0;
  font-size: 1rem;
}

.table-card p {
  margin: 8px 0;
}

.table-action {
  margin-top: 8px;
  width: 100%;
}

.table-action:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.inline-panel {
  margin: 8px 0 12px;
  padding: 16px;
}

.table-panel {
  padding: 16px;
}

.poker-table-shell {
  border-color: #1f2937;
  background: radial-gradient(
      circle at 10% 5%,
      rgb(34 211 238 / 8%),
      transparent 42%
    ), linear-gradient(180deg, #020617 0%, #031a1b 44%, #041512 100%);
  color: #f8fafc;
}

.table-header-bar {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 10px;
}

.table-eyebrow {
  color: #9ca3af;
}

.table-title {
  margin: 2px 0 6px;
  font-family: var(--font-display);
  font-size: clamp(1.7rem, 2.4vw, 2.25rem);
  color: #f8fafc;
}

.table-summary-line {
  margin: 2px 0;
  color: #cbd5e1;
}

.table-nav-actions {
  align-content: start;
}

.poker-table-shell .ghost-button {
  border-color: rgb(148 163 184 / 45%);
  background: rgb(15 23 42 / 75%);
  color: #f1f5f9;
}

.poker-table-shell .ghost-button:hover {
  border-color: rgb(186 230 253 / 72%);
  background: rgb(30 41 59 / 80%);
}

.table-play-layout {
  display: grid;
  gap: 14px;
  grid-template-columns: minmax(0, 1fr) minmax(270px, 320px);
}

.poker-stage-panel {
  margin: 0;
  border: 1px solid rgb(31 41 55 / 60%);
  background: transparent;
}

.poker-stage-grid {
  min-height: 700px;
  border-radius: 240px;
  border: 18px solid #2a2e34;
  background: radial-gradient(
      circle at 50% 45%,
      rgb(6 95 70 / 95%),
      rgb(4 120 87 / 92%)
    ),
    radial-gradient(circle at 50% 40%, rgb(45 212 191 / 15%), transparent 66%);
  display: grid;
  grid-template-columns: repeat(5, minmax(120px, 1fr));
  grid-template-areas:
    "left-far . top . right-far"
    "left-near . self . right-near"
    ". . center . .";
  gap: 12px;
  padding: 18px 20px 14px;
  align-items: end;
}

.table-center-core {
  grid-area: center;
  align-self: center;
  justify-self: center;
  width: min(320px, 100%);
  border-radius: 20px;
  border: 1px solid rgb(148 163 184 / 38%);
  background: linear-gradient(180deg, rgb(2 44 34 / 84%), rgb(15 23 42 / 78%));
  box-shadow: inset 0 0 0 1px rgb(255 255 255 / 10%), 0 14px 24px -16px
    rgb(15 23 42 / 92%);
  text-align: center;
  padding: 14px;
}

.table-center-label {
  margin: 0;
  font-size: 0.74rem;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: #94a3b8;
}

.table-center-pot {
  margin: 5px 0 2px;
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 2.8vw, 2rem);
  color: #fef08a;
}

.table-center-street {
  margin: 0;
  color: #e2e8f0;
}

.table-center-to-act {
  margin: 5px 0 7px;
  font-size: 0.82rem;
  color: #cbd5e1;
}

.turn-timer-track,
.seat-time-track {
  width: 100%;
  height: 9px;
  border-radius: 999px;
  border: 1px solid rgb(148 163 184 / 50%);
  background: rgb(2 6 23 / 60%);
  overflow: hidden;
}

.turn-timer-fill,
.seat-time-fill {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, #34d399, #14b8a6);
  transition: width 240ms linear;
}

.turn-timer-fill.is-warning,
.seat-time-fill.is-warning {
  background: linear-gradient(90deg, #f59e0b, #ef4444);
}

.turn-timer-text {
  margin: 7px 0 0;
  font-size: 0.83rem;
  font-weight: 700;
  color: #f8fafc;
}

.seat-pod {
  position: relative;
  border-radius: 14px;
  border: 1px solid rgb(148 163 184 / 40%);
  background: linear-gradient(180deg, rgb(15 23 42 / 88%), rgb(2 6 23 / 82%));
  color: #f8fafc;
  padding: 10px;
  box-shadow: 0 10px 20px -16px rgb(15 23 42 / 95%);
}

.seat-pod.seat-pos-self {
  grid-area: self;
}

.seat-pod.seat-pos-left-near {
  grid-area: left-near;
}

.seat-pod.seat-pos-left-far {
  grid-area: left-far;
}

.seat-pod.seat-pos-top {
  grid-area: top;
}

.seat-pod.seat-pos-right-far {
  grid-area: right-far;
}

.seat-pod.seat-pos-right-near {
  grid-area: right-near;
}

.seat-pod.is-you {
  border-color: rgb(251 191 36 / 85%);
  box-shadow: inset 0 0 0 1px rgb(254 240 138 / 56%);
}

.seat-pod.is-to-act {
  border-color: rgb(34 211 238 / 86%);
  box-shadow: inset 0 0 0 1px rgb(34 211 238 / 45%);
}

.seat-pod.is-empty {
  border-style: dashed;
  border-color: rgb(148 163 184 / 24%);
  background: linear-gradient(180deg, rgb(15 23 42 / 46%), rgb(2 6 23 / 38%));
  box-shadow: none;
}

.seat-pod-header {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  align-items: center;
}

.seat-badge {
  font-size: 0.82rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  color: #cbd5e1;
}

.dealer-marker {
  display: inline-flex;
  width: 24px;
  height: 24px;
  border-radius: 999px;
  justify-content: center;
  align-items: center;
  border: 1px solid rgb(251 191 36 / 88%);
  background: linear-gradient(180deg, #fef08a, #f59e0b);
  color: #78350f;
  font-weight: 800;
  font-size: 0.78rem;
}

.empty-seat-actions {
  min-height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.empty-seat-join {
  padding: 8px 14px;
}

.seat-player-name {
  margin: 8px 0 2px;
  font-family: var(--font-body);
  font-size: 0.94rem;
  color: #f8fafc;
}

.seat-stack {
  margin: 0;
  font-size: 0.82rem;
  color: #cbd5e1;
}

.seat-time-wrapper {
  margin: 6px 0 8px;
  display: grid;
  gap: 4px;
}

.seat-time-text {
  margin: 0;
  font-size: 0.74rem;
  font-weight: 700;
  color: #e2e8f0;
}

.seat-cards {
  min-height: 70px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.playing-card {
  width: 46px;
  height: 66px;
  border-radius: 8px;
  border: 1px solid #dbeafe;
  background: linear-gradient(165deg, #ffffff, #e2e8f0);
  color: #0f172a;
  display: grid;
  justify-items: center;
  align-content: center;
  box-shadow: 0 8px 12px -10px rgb(15 23 42 / 90%);
}

.playing-card.is-hidden {
  border-color: rgb(148 163 184 / 62%);
  background: repeating-linear-gradient(
      130deg,
      rgb(127 29 29 / 88%) 0 5px,
      rgb(153 27 27 / 94%) 5px 10px
    ), linear-gradient(180deg, rgb(30 41 59 / 86%), rgb(127 29 29 / 86%));
  color: #f1f5f9;
}

.playing-card-back {
  font-size: 0.9rem;
}

.playing-card-rank {
  font-size: 1rem;
  font-weight: 800;
  line-height: 1;
}

.playing-card-suit {
  margin-top: 2px;
  font-size: 1rem;
  line-height: 1;
}

.playing-card.is-suit-h .playing-card-rank,
.playing-card.is-suit-h .playing-card-suit,
.playing-card.is-suit-d .playing-card-rank,
.playing-card.is-suit-d .playing-card-suit {
  color: #dc2626;
}

.playing-card.is-suit-s .playing-card-rank,
.playing-card.is-suit-s .playing-card-suit,
.playing-card.is-suit-c .playing-card-rank,
.playing-card.is-suit-c .playing-card-suit {
  color: #111827;
}

.table-side-rail {
  display: grid;
  gap: 10px;
  align-content: start;
}

.table-side-card {
  margin: 0;
  border: 1px solid rgb(148 163 184 / 45%);
  background: linear-gradient(180deg, rgb(15 23 42 / 82%), rgb(2 6 23 / 84%));
  color: #e2e8f0;
}

.table-side-card h3 {
  margin: 0 0 6px;
  color: #f8fafc;
}

.table-side-card p {
  margin: 0 0 8px;
  color: #cbd5e1;
}

.action-dock-buttons {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.action-dock-button {
  width: 100%;
  border: 1px solid rgb(251 191 36 / 40%);
  background: linear-gradient(180deg, #334155, #1e293b);
}

.action-dock-button:hover {
  background: linear-gradient(180deg, #475569, #334155);
}

.command-preview {
  margin: 10px 0 0;
  border-radius: 10px;
  border: 1px dashed #67e8f9;
  padding: 8px 10px;
  background: rgb(15 23 42 / 46%);
  color: #e2e8f0;
}

.event-log-list {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 8px;
}

.event-log-item {
  border: 1px solid rgb(148 163 184 / 35%);
  border-radius: 10px;
  background: rgb(15 23 42 / 52%);
  padding: 8px;
}

.event-log-main {
  margin: 0 0 4px;
  font-size: 0.78rem;
  color: #e2e8f0;
}

.event-log-time {
  font-size: 0.72rem;
  color: #94a3b8;
}

.history-header {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.history-layout {
  display: grid;
  gap: 14px;
  grid-template-columns: minmax(260px, 340px) minmax(0, 1fr);
}

.history-list {
  border: 1px solid #a5f3fc;
  border-radius: var(--radius-md);
  background: #ffffff;
  padding: 12px;
}

.history-list-items {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 8px;
}

.history-list-item {
  width: 100%;
  display: grid;
  gap: 4px;
  text-align: left;
  border: 1px solid #bae6fd;
  border-radius: 12px;
  padding: 10px;
  background: #ffffff;
}

.history-list-item:hover {
  border-color: #2dd4bf;
}

.history-list-item.is-active {
  border-color: #14b8a6;
  box-shadow: inset 0 0 0 1px #99f6e4;
}

.history-list-main {
  font-weight: 700;
  color: var(--ink-900);
}

.history-list-sub {
  color: var(--ink-700);
  font-size: 0.84rem;
}

.history-empty {
  margin: 0;
  color: var(--ink-700);
}

.history-detail {
  padding: 14px;
  border-radius: var(--radius-md);
}

.history-detail-header {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.history-section {
  margin-top: 12px;
}

.history-section h4 {
  margin: 0 0 6px;
}

.history-street-list {
  display: grid;
  gap: 8px;
}

.history-street-card {
  border: 1px solid #bae6fd;
  border-radius: 10px;
  background: #ffffff;
  padding: 10px;
}

.history-street-card h5 {
  margin: 0 0 6px;
}

.history-detail-list {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 6px;
}

.history-detail-list li {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  align-items: center;
  border-bottom: 1px solid #e0f2fe;
  padding-bottom: 6px;
}

.profit-loss-chip {
  display: inline-flex;
  border-radius: 999px;
  padding: 4px 9px;
  font-weight: 700;
  font-size: 0.82rem;
  border: 1px solid #a5f3fc;
  color: var(--ink-900);
  background: #e0f2fe;
}

.profit-loss-chip.is-positive {
  color: #065f46;
  border-color: #34d399;
  background: #d1fae5;
}

.profit-loss-chip.is-negative {
  color: #9f1239;
  border-color: #fb7185;
  background: #ffe4e6;
}

.profit-loss-chip.is-even {
  color: #334155;
  border-color: #cbd5e1;
  background: #f1f5f9;
}

.history-load-more-error {
  margin: 10px 0 0;
  color: #b91c1c;
  font-weight: 600;
}

@media (max-width: 768px) {
  .app-header {
    flex-direction: column;
  }

  .lobby-header {
    flex-direction: column;
  }

  .table-panel-header {
    flex-direction: column;
  }

  .poker-stage-grid {
    min-height: 620px;
    border-width: 14px;
    border-radius: 120px;
    padding: 14px;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-template-areas:
      "top top"
      "left-far right-far"
      "left-near right-near"
      "self self"
      "center center";
  }

  .table-center-core {
    width: 100%;
  }

  .seat-cards {
    min-height: 60px;
  }

  .history-header {
    flex-direction: column;
  }

  .history-layout {
    grid-template-columns: 1fr;
  }

  .history-detail-header {
    flex-direction: column;
  }

  .header-actions {
    flex-wrap: wrap;
  }
}

@media (max-width: 1024px) {
  .app-shell.is-table-route {
    width: min(1040px, 100%);
  }

  .table-play-layout {
    grid-template-columns: 1fr;
  }

  .table-side-rail {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .event-log-panel {
    grid-column: 1 / -1;
  }
}

@media (max-width: 560px) {
  .poker-stage-grid {
    min-height: auto;
    border-width: 12px;
    border-radius: 44px;
    grid-template-columns: minmax(0, 1fr);
    grid-template-areas:
      "top"
      "right-far"
      "right-near"
      "center"
      "left-near"
      "left-far"
      "self";
  }

  .table-side-rail {
    grid-template-columns: 1fr;
  }

  .action-dock-buttons {
    grid-template-columns: 1fr;
  }

  .playing-card {
    width: 44px;
    height: 62px;
  }
}

@media (prefers-reduced-motion: no-preference) {
  .surface {
    animation: rise-in 220ms ease-out both;
  }

  .seat-pod {
    animation: seat-fade-in 300ms ease-out both;
  }

  .seat-pod[data-seat-no="1"] {
    animation-delay: 20ms;
  }

  .seat-pod[data-seat-no="2"] {
    animation-delay: 60ms;
  }

  .seat-pod[data-seat-no="3"] {
    animation-delay: 100ms;
  }

  .seat-pod[data-seat-no="4"] {
    animation-delay: 140ms;
  }

  .seat-pod[data-seat-no="5"] {
    animation-delay: 180ms;
  }

  .seat-pod[data-seat-no="6"] {
    animation-delay: 220ms;
  }

  .playing-card {
    animation: card-float-in 280ms ease-out both;
  }

  @keyframes rise-in {
    0% {
      opacity: 0;
      transform: translateY(10px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes seat-fade-in {
    0% {
      opacity: 0;
      transform: translateY(8px) scale(0.98);
    }

    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes card-float-in {
    0% {
      opacity: 0;
      transform: translateY(6px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
}
